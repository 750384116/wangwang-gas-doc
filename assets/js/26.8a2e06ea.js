(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{416:function(_,t,v){"use strict";v.r(t);var a=v(15),e=Object(a.a)({},(function(){var _=this,t=_.$createElement,v=_._self._c||t;return v("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[v("h1",{attrs:{id:"通讯协议-v1"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#通讯协议-v1"}},[_._v("#")]),_._v(" 通讯协议 v1")]),_._v(" "),v("p"),v("div",{staticClass:"table-of-contents"},[v("ul",[v("li",[v("a",{attrs:{href:"#_1-完整协议格式"}},[_._v("1. 完整协议格式")]),v("ul",[v("li",[v("a",{attrs:{href:"#_1-1-下位机上传"}},[_._v("1.1. 下位机上传")])]),v("li",[v("a",{attrs:{href:"#_1-2-上位机下发"}},[_._v("1.2. 上位机下发")])]),v("li",[v("a",{attrs:{href:"#_1-3-字段描述"}},[_._v("1.3. 字段描述")])])])]),v("li",[v("a",{attrs:{href:"#_2-数据包解析-设备上报"}},[_._v("2. 数据包解析--设备上报")]),v("ul",[v("li",[v("a",{attrs:{href:"#_2-1-开机、关机信息-command-0x00"}},[_._v("2.1. 开机、关机信息（Command：0x00）")])]),v("li",[v("a",{attrs:{href:"#_2-2-上传报警数据-command-0x01"}},[_._v("2.2. 上传报警数据（Command：0x01）")])]),v("li",[v("a",{attrs:{href:"#_2-3-平台下发获取命令-设备响应结果-command-0x02"}},[_._v("2.3. 平台下发获取命令，设备响应结果（Command：0x02）")])]),v("li",[v("a",{attrs:{href:"#_2-4-平台下发设置命令-设备响应结果-command-0x03"}},[_._v("2.4. 平台下发设置命令，设备响应结果 （Command：0x03)")])]),v("li",[v("a",{attrs:{href:"#_2-5-平台下发复位命令-设备响应结果-command-0x06"}},[_._v("2.5. 平台下发复位命令，设备响应结果 （Command：0x06）")])]),v("li",[v("a",{attrs:{href:"#_2-6-平台下发消音命令-设备响应结果-command-0x07"}},[_._v("2.6. 平台下发消音命令，设备响应结果（Command：0x07）")])]),v("li",[v("a",{attrs:{href:"#_2-7-平台下发命令参数错误-设备响应结果-command-0x7e"}},[_._v("2.7.  平台下发命令参数错误，设备响应结果 （Command：0x7e）")])]),v("li",[v("a",{attrs:{href:"#_2-8-平台下发命令-设备不支持-command-0x7f"}},[_._v("2.8. 平台下发命令，设备不支持 （Command：0x7f）")])])])]),v("li",[v("a",{attrs:{href:"#_3-数据包解析-平台下发"}},[_._v("3. 数据包解析--平台下发")]),v("ul",[v("li",[v("a",{attrs:{href:"#_3-1-获取设备参数-command-0x82"}},[_._v("3.1. 获取设备参数 （Command：0x82）")])]),v("li",[v("a",{attrs:{href:"#_3-2-设置参数-command-0x83"}},[_._v("3.2. 设置参数 （Command：0x83）")])]),v("li",[v("a",{attrs:{href:"#_3-3-复位-command-0x86"}},[_._v("3.3. 复位（Command：0x86）")])]),v("li",[v("a",{attrs:{href:"#_3-4-消音-command-0x87"}},[_._v("3.4. 消音（Command：0x87）")])])])])])]),_._v(" "),v("p"),_._v(" "),v("h2",{attrs:{id:"_1-完整协议格式"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_1-完整协议格式"}},[_._v("#")]),_._v(" 1. 完整协议格式")]),_._v(" "),v("h3",{attrs:{id:"_1-1-下位机上传"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-下位机上传"}},[_._v("#")]),_._v(" 1.1. 下位机上传")]),_._v(" "),v("table",[v("thead",[v("tr",[v("th",[_._v("ID-length")]),_._v(" "),v("th",[_._v("ID")]),_._v(" "),v("th",[_._v("Signal")]),_._v(" "),v("th",[_._v("模式")]),_._v(" "),v("th",[_._v("定位信息")]),_._v(" "),v("th",[_._v("EventType")]),_._v(" "),v("th",[_._v("Type")]),_._v(" "),v("th",[_._v("Command")]),_._v(" "),v("th",[_._v("Data-Length")]),_._v(" "),v("th",[_._v("Data")]),_._v(" "),v("th",[_._v("校验")])])]),_._v(" "),v("tbody",[v("tr",[v("td",[_._v("1byte")]),_._v(" "),v("td",[_._v("Nbyte")]),_._v(" "),v("td",[_._v("1byte")]),_._v(" "),v("td",[_._v("1byte")]),_._v(" "),v("td",[_._v("Nbyte")]),_._v(" "),v("td",[_._v("1byte")]),_._v(" "),v("td",[_._v("2byte")]),_._v(" "),v("td",[_._v("1byte")]),_._v(" "),v("td",[_._v("2byte")]),_._v(" "),v("td",[_._v("Nbyte")]),_._v(" "),v("td",[_._v("2byte")])])])]),_._v(" "),v("h3",{attrs:{id:"_1-2-上位机下发"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-上位机下发"}},[_._v("#")]),_._v(" 1.2. 上位机下发")]),_._v(" "),v("table",[v("thead",[v("tr",[v("th",[_._v("ID-length")]),_._v(" "),v("th",[_._v("ID")]),_._v(" "),v("th",[_._v("Signal")]),_._v(" "),v("th",[_._v("EventType")]),_._v(" "),v("th",[_._v("Type")]),_._v(" "),v("th",[_._v("Command")]),_._v(" "),v("th",[_._v("Data-Length")]),_._v(" "),v("th",[_._v("Data")]),_._v(" "),v("th",[_._v("校验")])])]),_._v(" "),v("tbody",[v("tr",[v("td",[_._v("1byte")]),_._v(" "),v("td",[_._v("Nbyte")]),_._v(" "),v("td",[_._v("1byte")]),_._v(" "),v("td",[_._v("1byte")]),_._v(" "),v("td",[_._v("2byte")]),_._v(" "),v("td",[_._v("1byte")]),_._v(" "),v("td",[_._v("2byte")]),_._v(" "),v("td",[_._v("Nbyte")]),_._v(" "),v("td",[_._v("2byte")])])])]),_._v(" "),v("h3",{attrs:{id:"_1-3-字段描述"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-字段描述"}},[_._v("#")]),_._v(" 1.3. 字段描述")]),_._v(" "),v("p",[_._v("ID-length：D的长度")]),_._v(" "),v("p",[_._v("ID：DTU的唯一ID，默认使用模块的IMEI")]),_._v(" "),v("p",[_._v("​       signal: 信号值")]),_._v(" "),v("p",[_._v("​       模式：0 GSM、1 CDMA、2 Nbiot")]),_._v(" "),v("p",[_._v("​       定位信息：模式0  4byte    （此次默认0）")]),_._v(" "),v("p",[_._v("​                  byte[0]-byte[1]   小区号")]),_._v(" "),v("p",[_._v("​                  byte[2]-byte[3]   基站号")]),_._v(" "),v("p",[_._v("​       EventType：00正常上报数据、01 开机信息、02 关机信息")]),_._v(" "),v("p",[_._v("​       Type：设备类型，默认写00")]),_._v(" "),v("p",[_._v("Command：请求类别（参考）")]),_._v(" "),v("p",[_._v("​        Data：数据块")]),_._v(" "),v("p",[_._v("​        Data-Length：数据块长度")]),_._v(" "),v("p",[_._v("校验：CRC16/modbus；例如数据为：01 02 03 04  校验= 2b a1")]),_._v(" "),v("p",[_._v("​")]),_._v(" "),v("p",[_._v("​        规约内数据采用高字节在前 低字节在后(Big-Endian)")]),_._v(" "),v("p",[_._v("​        校验计算Type~Data (包含Type和Data)")]),_._v(" "),v("h2",{attrs:{id:"_2-数据包解析-设备上报"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-数据包解析-设备上报"}},[_._v("#")]),_._v(" 2. 数据包解析--设备上报")]),_._v(" "),v("h3",{attrs:{id:"_2-1-开机、关机信息-command-0x00"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-开机、关机信息-command-0x00"}},[_._v("#")]),_._v(" 2.1. 开机、关机信息（Command：0x00）")]),_._v(" "),v("table",[v("thead",[v("tr",[v("th",[_._v("QCCID")]),_._v(" "),v("th",[_._v("电池电压(DTU自带电池)")]),_._v(" "),v("th",[_._v("透传模块版本号")])])]),_._v(" "),v("tbody",[v("tr",[v("td",[_._v("20byte")]),_._v(" "),v("td",[_._v("4byte(float)")]),_._v(" "),v("td",[_._v("1byte")])])])]),_._v(" "),v("p",[_._v("Length：25byte")]),_._v(" "),v("p",[_._v("QCCID：预留信息")]),_._v(" "),v("h3",{attrs:{id:"_2-2-上传报警数据-command-0x01"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-上传报警数据-command-0x01"}},[_._v("#")]),_._v(" 2.2. 上传报警数据（Command：0x01）")]),_._v(" "),v("table",[v("thead",[v("tr",[v("th",[_._v("版本号")]),_._v(" "),v("th",[_._v("电池电压")]),_._v(" "),v("th",[_._v("控制器状态")]),_._v(" "),v("th",[_._v("回路总数")]),_._v(" "),v("th",[_._v("回路号")]),_._v(" "),v("th",[_._v("探测器最大总数")]),_._v(" "),v("th",[_._v("开始地址")]),_._v(" "),v("th",[_._v("探测器总数量")]),_._v(" "),v("th",[_._v("当前回路信息")])])]),_._v(" "),v("tbody",[v("tr",[v("td",[_._v("1byte")]),_._v(" "),v("td",[_._v("2byte")]),_._v(" "),v("td",[_._v("2byte")]),_._v(" "),v("td",[_._v("1byte")]),_._v(" "),v("td",[_._v("1byte")]),_._v(" "),v("td",[_._v("1byte")]),_._v(" "),v("td",[_._v("1byte")]),_._v(" "),v("td",[_._v("1byte")]),_._v(" "),v("td",[_._v("n*3byte")])])])]),_._v(" "),v("p",[_._v("a)   Length：10+n*3")]),_._v(" "),v("p",[_._v("b)   电池电压：除以100  例如 2678 ==>26.78V")]),_._v(" "),v("p",[_._v("c)   控制器状态：")]),_._v(" "),v("p",[_._v("Bit15: 1 总线短路           0 正常")]),_._v(" "),v("p",[_._v("Bit14-Bit8             保留")]),_._v(" "),v("p",[_._v("Bit7：1 主电工作中      0 备电工作中")]),_._v(" "),v("p",[_._v("Bit6：1 充电中         0 未充电")]),_._v(" "),v("p",[_._v("Bit5：1 主电故障           0 主电正常")]),_._v(" "),v("p",[_._v("Bit4：1 备电故障           0 备电正常")]),_._v(" "),v("p",[_._v("Bit3：1 充电故障           0 充电正常")]),_._v(" "),v("p",[_._v("Bit2：1 发生报警           0 未发生报警")]),_._v(" "),v("p",[_._v("Bit1：1 发生故障           0 未发生故障")]),_._v(" "),v("p",[_._v("Bit0:                 保留")]),_._v(" "),v("p",[_._v("0xffff 代表控制器离线")]),_._v(" "),v("p",[_._v("d)   回路总数：取值1-4（默认1回路，出现多回路时需跟平台侧沟通设置情况）")]),_._v(" "),v("p",[_._v("e)   回路号：取值1-4（默认1回路，出现多回路时需跟平台侧沟通设置情况）")]),_._v(" "),v("p",[_._v("f)   探测器最大总数：按厂商配置（一般情况不超过64）")]),_._v(" "),v("p",[_._v("g)   开始地址：从1开始（探测器地址）")]),_._v(" "),v("p",[_._v("h)   探测器总数量：按厂商配置（一般情况不超过32）")]),_._v(" "),v("p",[_._v("i)    回路信息：每个探测器3bytes（探测器状态0xff 代表探测器为非法的）")]),_._v(" "),v("ol",[v("li",[_._v("byte[0] 探测器状态")])]),_._v(" "),v("table",[v("thead",[v("tr",[v("th",[_._v("Bit7")]),_._v(" "),v("th",[_._v("1  离线  0  正常")])])]),_._v(" "),v("tbody",[v("tr",[v("td",[_._v("Bit6-bit5")]),_._v(" "),v("td",[_._v("0 0 *1  01      *0.1  10  *0.01  11  *0.001")])]),_._v(" "),v("tr",[v("td",[_._v("Bit4-bit3")]),_._v(" "),v("td",[_._v("00      %LEL  01      PPM  10  %VOL  11  其他")])]),_._v(" "),v("tr",[v("td",[_._v("Bit2-bit0")]),_._v(" "),v("td",[_._v("001 正常  010 报警(低报)  011 报警(高报)  100 传感器离线  101 IIC离线  110 探测器版本错误  111 屏蔽！！！")])])])]),_._v(" "),v("ol",{attrs:{start:"2"}},[v("li",[_._v("byte[1]-byte[2]：探测器浓度")])]),_._v(" "),v("p",[_._v("bit15 ：1寿命到期、0正常；bit14-bit0：浓度")]),_._v(" "),v("p",[_._v("示例: 0F383631303530303430343230363538130000000000000005010010000000008001010201020100000100004D1B")]),_._v(" "),v("h3",{attrs:{id:"_2-3-平台下发获取命令-设备响应结果-command-0x02"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-平台下发获取命令-设备响应结果-command-0x02"}},[_._v("#")]),_._v(" 2.3. 平台下发获取命令，设备响应结果（Command：0x02）")]),_._v(" "),v("p",[_._v("Byte[0]-byte[3]   taskId")]),_._v(" "),v("p",[_._v("Byte[4]-byte[7]  正常状态下上传周期  (秒)")]),_._v(" "),v("p",[_._v("Byte[8]-byte[11] 报警后上传周期  (秒)")]),_._v(" "),v("p",[_._v("Byte[12]       探测器数量N    返回探测器的数量")]),_._v(" "),v("p",[_._v("Byte[13]        探测器地址号1")]),_._v(" "),v("p",[_._v("Byte[14]-byte[15] 探测器报警点1，0代表无效，高位在前低位在后，10进制整数的16进制表现形式")]),_._v(" "),v("p",[_._v("Byte[16]        探测器突变阈值1，10进制整数的16进制表现形式")]),_._v(" "),v("p",[_._v("Byte[17]…..     探测器地址号2")]),_._v(" "),v("p",[_._v("…")]),_._v(" "),v("p",[_._v("Byte[..]…..     探测器地址号N")]),_._v(" "),v("h3",{attrs:{id:"_2-4-平台下发设置命令-设备响应结果-command-0x03"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-平台下发设置命令-设备响应结果-command-0x03"}},[_._v("#")]),_._v(" 2.4. 平台下发设置命令，设备响应结果 （Command：0x03)")]),_._v(" "),v("p",[_._v("Byte[0]-byte[3]    taskId")]),_._v(" "),v("p",[_._v("Byte[4]-byte[7]  正常状态下上传周期  (秒)")]),_._v(" "),v("p",[_._v("Byte[8]-byte[11] 报警后上传周期  (秒)")]),_._v(" "),v("p",[_._v("Byte[12]          探测器数量N")]),_._v(" "),v("p",[_._v("Byte[13]        探测器地址号1")]),_._v(" "),v("p",[_._v("Byte[14]-byte[15] 探测器报警点1  0代表无效")]),_._v(" "),v("p",[_._v("Byte[16]        探测器突变阈值1")]),_._v(" "),v("p",[_._v("Byte[17]…..       探测器地址号2")]),_._v(" "),v("p",[_._v("…")]),_._v(" "),v("p",[_._v("Byte[..]…..        探测器地址号N")]),_._v(" "),v("h3",{attrs:{id:"_2-5-平台下发复位命令-设备响应结果-command-0x06"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-平台下发复位命令-设备响应结果-command-0x06"}},[_._v("#")]),_._v(" 2.5. 平台下发复位命令，设备响应结果 （Command：0x06）")]),_._v(" "),v("p",[_._v("数据同功能码3，预留功能")]),_._v(" "),v("h3",{attrs:{id:"_2-6-平台下发消音命令-设备响应结果-command-0x07"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-平台下发消音命令-设备响应结果-command-0x07"}},[_._v("#")]),_._v(" 2.6. 平台下发消音命令，设备响应结果（Command：0x07）")]),_._v(" "),v("p",[_._v("数据同功能码3，预留功能")]),_._v(" "),v("h3",{attrs:{id:"_2-7-平台下发命令参数错误-设备响应结果-command-0x7e"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-平台下发命令参数错误-设备响应结果-command-0x7e"}},[_._v("#")]),_._v(" 2.7.  平台下发命令参数错误，设备响应结果 （Command：0x7e）")]),_._v(" "),v("p",[_._v("Length:5byte")]),_._v(" "),v("p",[_._v("Byte[0]-byte[3]      taskID")]),_._v(" "),v("p",[_._v("Byte[4]           下发的功能码")]),_._v(" "),v("h3",{attrs:{id:"_2-8-平台下发命令-设备不支持-command-0x7f"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-8-平台下发命令-设备不支持-command-0x7f"}},[_._v("#")]),_._v(" 2.8. 平台下发命令，设备不支持 （Command：0x7f）")]),_._v(" "),v("p",[_._v("Length:5byte")]),_._v(" "),v("p",[_._v("Byte[0]-byte[3]  taskID")]),_._v(" "),v("p",[_._v("Byte[4]        下发的功能码")]),_._v(" "),v("h2",{attrs:{id:"_3-数据包解析-平台下发"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-数据包解析-平台下发"}},[_._v("#")]),_._v(" 3. 数据包解析--平台下发")]),_._v(" "),v("h3",{attrs:{id:"_3-1-获取设备参数-command-0x82"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-获取设备参数-command-0x82"}},[_._v("#")]),_._v(" 3.1. 获取设备参数 （Command：0x82）")]),_._v(" "),v("p",[_._v("Length:4")]),_._v(" "),v("p",[_._v("Byte[0]-byte[3] taskId")]),_._v(" "),v("p",[_._v("示例 : 0f3335393336393038313133323736390000000082000400000008fe58")]),_._v(" "),v("h3",{attrs:{id:"_3-2-设置参数-command-0x83"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-设置参数-command-0x83"}},[_._v("#")]),_._v(" 3.2. 设置参数 （Command：0x83）")]),_._v(" "),v("p",[_._v("Byte[0]-byte[3]   taskId")]),_._v(" "),v("p",[_._v("Byte[4]-byte[7]  正常状态下上传周期 (秒)")]),_._v(" "),v("p",[_._v("Byte[8]-byte[11]  报警后上传周期  (秒)")]),_._v(" "),v("p",[_._v("Byte[12]       探测器数量N (这里是需要修改的探测器的数量)")]),_._v(" "),v("p",[_._v("Byte[13]      探测器地址号1")]),_._v(" "),v("p",[_._v("Byte[14]-byte[15] 探测器报警点1")]),_._v(" "),v("p",[_._v("Byte[16]      探测器突变阈值1")]),_._v(" "),v("p",[_._v("Byte[17]…..     探测器地址号2")]),_._v(" "),v("p",[_._v("…")]),_._v(" "),v("p",[_._v("Byte[..]…..     探测器地址号N")]),_._v(" "),v("h3",{attrs:{id:"_3-3-复位-command-0x86"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-复位-command-0x86"}},[_._v("#")]),_._v(" 3.3. 复位（Command：0x86）")]),_._v(" "),v("p",[_._v("Length:4byte")]),_._v(" "),v("p",[_._v("Byte[0]-byte[3]  taskID")]),_._v(" "),v("h3",{attrs:{id:"_3-4-消音-command-0x87"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-消音-command-0x87"}},[_._v("#")]),_._v(" 3.4. 消音（Command：0x87）")]),_._v(" "),v("p",[_._v("Length:4byte")]),_._v(" "),v("p",[_._v("Byte[0]-byte[3]  taskID")])])}),[],!1,null,null,null);t.default=e.exports}}]);