(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{429:function(t,_,v){"use strict";v.r(_);var r=v(15),a=Object(r.a)({},(function(){var t=this,_=t.$createElement,v=t._self._c||_;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h1",{attrs:{id:"通讯协议-v3"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#通讯协议-v3"}},[t._v("#")]),t._v(" 通讯协议 v3")]),t._v(" "),v("p"),v("div",{staticClass:"table-of-contents"},[v("ul",[v("li",[v("a",{attrs:{href:"#_1-完整协议格式"}},[t._v("1.完整协议格式")]),v("ul",[v("li",[v("a",{attrs:{href:"#_1-1-下位机上传"}},[t._v("1.1. 下位机上传")])]),v("li",[v("a",{attrs:{href:"#_1-2-上位机下发"}},[t._v("1.2. 上位机下发")])])])]),v("li",[v("a",{attrs:{href:"#_2-下位机上传"}},[t._v("2. 下位机上传")]),v("ul",[v("li",[v("a",{attrs:{href:"#_2-1-开机、关机信息-command-0x10"}},[t._v("2.1. 开机、关机信息（Command：0x10）")])]),v("li",[v("a",{attrs:{href:"#_2-2-上传报警数据-command-0x11"}},[t._v("2.2. 上传报警数据（Command：0x11）")])]),v("li",[v("a",{attrs:{href:"#_2-3-平台下发命令-设备上报运行参数-command-0x12"}},[t._v("2.3. 平台下发命令，设备上报运行参数（Command：0x12）")])]),v("li",[v("a",{attrs:{href:"#_2-4-平台下发复位命令-设备响应结果-command-0x13"}},[t._v("2.4. 平台下发复位命令，设备响应结果 （Command：0x13）")])]),v("li",[v("a",{attrs:{href:"#_2-5-平台下发消音命令-设备响应结果-command-0x14"}},[t._v("2.5.  平台下发消音命令，设备响应结果（Command：0x14）")])]),v("li",[v("a",{attrs:{href:"#_2-6-平台下发获取联动信息-联动控制-设备响应结果-command-0x15"}},[t._v("2.6. 平台下发获取联动信息/联动控制，设备响应结果（Command：0x15）")])]),v("li",[v("a",{attrs:{href:"#_2-7-s-设备要求服务器下发时间同步-预留-command-0x16-s"}},[t._v("2.7. "),v("s",[t._v("设备要求服务器下发时间同步(预留)（Command：0x16）")])])]),v("li",[v("a",{attrs:{href:"#_2-8-平台下发命令-设备执行异常后响应结果-command-0xff"}},[t._v("2.8. 平台下发命令，设备执行异常后响应结果 （Command：0xff）")])])])]),v("li",[v("a",{attrs:{href:"#_3-上位机下发"}},[t._v("3. 上位机下发")]),v("ul",[v("li",[v("a",{attrs:{href:"#_3-1-获取设备运行参数-command-0x91"}},[t._v("3.1. 获取设备运行参数 （Command：0x91）")])]),v("li",[v("a",{attrs:{href:"#_3-2-设置设备运行参数-command-0x92"}},[t._v("3.2. 设置设备运行参数 （Command：0x92）")])]),v("li",[v("a",{attrs:{href:"#_3-3-复位-command-0x93"}},[t._v("3.3. 复位（Command：0x93）")])]),v("li",[v("a",{attrs:{href:"#_3-4-消音-command-0x94"}},[t._v("3.4.  消音（Command：0x94）")])]),v("li",[v("a",{attrs:{href:"#_3-5-获取设备联动信息-command-0x95"}},[t._v("3.5. 获取设备联动信息（Command：0x95）")])]),v("li",[v("a",{attrs:{href:"#_3-6-设备联动控制-command-0x96"}},[t._v("3.6. 设备联动控制（Command：0x96）")])]),v("li",[v("a",{attrs:{href:"#_3-7-s-同步时间-预留-command-0x97-s"}},[t._v("3.7. "),v("s",[t._v("同步时间(预留)（Command：0x97）")])])])])])])]),t._v(" "),v("p"),t._v(" "),v("h2",{attrs:{id:"_1-完整协议格式"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_1-完整协议格式"}},[t._v("#")]),t._v(" 1.完整协议格式")]),t._v(" "),v("h3",{attrs:{id:"_1-1-下位机上传"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-下位机上传"}},[t._v("#")]),t._v(" 1.1. 下位机上传")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[v("strong",[t._v("字段")])]),t._v(" "),v("th",[v("strong",[t._v("长度")])]),t._v(" "),v("th",[v("strong",[t._v("备注")])])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("msgid")]),t._v(" "),v("td",[t._v("1byte")]),t._v(" "),v("td",[t._v("数据起始标识，固定0x61 (校验数据，防止数据被截断)")])]),t._v(" "),v("tr",[v("td",[t._v("version")]),t._v(" "),v("td",[t._v("1byte")]),t._v(" "),v("td",[t._v("协议版本号 0x03")])]),t._v(" "),v("tr",[v("td",[t._v("id-length")]),t._v(" "),v("td",[t._v("1byte")]),t._v(" "),v("td",[t._v("设备标识ID长度0 ~ 255")])]),t._v(" "),v("tr",[v("td",[t._v("id")]),t._v(" "),v("td",[t._v("N byte")]),t._v(" "),v("td",[t._v("设备标识ID  "),v("br"),t._v("如:Nbiot的IMEI  "),v("br"),t._v("id字符(UTF-8)的16进制数据")])]),t._v(" "),v("tr",[v("td",[t._v("signal")]),t._v(" "),v("td",[t._v("1byte")]),t._v(" "),v("td",[t._v("信号值")])]),t._v(" "),v("tr",[v("td",[t._v("厂商id")]),t._v(" "),v("td",[t._v("2byte")]),t._v(" "),v("td",[v("RouterLink",{attrs:{to:"/wangwang/appendix/manufacturer.html"}},[t._v("查看详情")])],1)]),t._v(" "),v("tr",[v("td",[t._v("设备类型 type")]),t._v(" "),v("td",[t._v("2byte")]),t._v(" "),v("td",[v("RouterLink",{attrs:{to:"/wangwang/appendix/device-type.html"}},[t._v("查看详情")])],1)]),t._v(" "),v("tr",[v("td",[t._v("command")]),t._v(" "),v("td",[t._v("1byte")]),t._v(" "),v("td",[t._v("功能码，区分不同的数据类型   "),v("br"),t._v("0x10 ： 开关机信息  "),v("br"),t._v("0x11 ： 设备数据上报   "),v("br"),t._v("0x12 ： 设备运行参数上报   "),v("br"),t._v("0x13 ： 复位   "),v("br"),t._v("0x14 ： 消音  "),v("br"),t._v("0x15 ： 设备联动信息上报  "),v("br"),t._v("0x16 ： 设备要求服务器下发时间同步(预留)  "),v("br"),t._v("0xff ： 平台下发命令，设备执行异常后响应结果")])]),t._v(" "),v("tr",[v("td",[t._v("Data-Length")]),t._v(" "),v("td",[t._v("2byte")]),t._v(" "),v("td",[t._v("数据长度 0 ~ 255")])]),t._v(" "),v("tr",[v("td",[t._v("Data")]),t._v(" "),v("td",[t._v("Nbyte")]),t._v(" "),v("td",[t._v("数据块")])]),t._v(" "),v("tr",[v("td",[t._v("校验")]),t._v(" "),v("td",[t._v("2byte")]),t._v(" "),v("td",[t._v("CRC16/modbus      "),v("br"),t._v("例如 数据为：01 02 03 04  校验= 2b a1  "),v("br"),t._v("规约内数据采用高字节在前  低字节在后(Big-Endian)  校验  计算Command -DATA(包含Command和Data)")])]),t._v(" "),v("tr",[v("td",[t._v("end-msgid")]),t._v(" "),v("td",[t._v("1byte")]),t._v(" "),v("td",[t._v("数据结束标识，同msgid")])])])]),t._v(" "),v("h3",{attrs:{id:"_1-2-上位机下发"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-上位机下发"}},[t._v("#")]),t._v(" 1.2. 上位机下发")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[v("strong",[t._v("字段")])]),t._v(" "),v("th",[v("strong",[t._v("长度")])]),t._v(" "),v("th",[v("strong",[t._v("备注")])])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("msgid")]),t._v(" "),v("td",[t._v("1byte")]),t._v(" "),v("td",[t._v("数据起始标识，固定0x62 (校验数据，防止数据被截断)")])]),t._v(" "),v("tr",[v("td",[t._v("version")]),t._v(" "),v("td",[t._v("1byte")]),t._v(" "),v("td",[t._v("协议版本号 0x03")])]),t._v(" "),v("tr",[v("td",[t._v("ID-length")]),t._v(" "),v("td",[t._v("1byte")]),t._v(" "),v("td",[t._v("设备标识ID长度 0 ~ 255")])]),t._v(" "),v("tr",[v("td",[t._v("ID")]),t._v(" "),v("td",[t._v("Nbyte")]),t._v(" "),v("td",[t._v("设备标识ID  "),v("br"),t._v("如:Nbiot的IMEI  "),v("br"),t._v("id字符(UTF-8)的16进制数据")])]),t._v(" "),v("tr",[v("td",[t._v("taskid")]),t._v(" "),v("td",[t._v("4byte")]),t._v(" "),v("td",[t._v("下行命令流水号")])]),t._v(" "),v("tr",[v("td",[t._v("Command")]),t._v(" "),v("td",[t._v("1byte")]),t._v(" "),v("td",[t._v("功能码，区分不同的数据类型   "),v("br"),t._v("0x91 ： 获取设备运行参数  "),v("br"),t._v("0x92 ： 设置设备运行参数  "),v("br"),t._v("0x93 ： 响应复位  "),v("br"),t._v("0x94 ： 响应消音  "),v("br"),t._v("0x95 ： 获取设备联动状态")])]),t._v(" "),v("tr",[v("td",[t._v("Data-Length")]),t._v(" "),v("td",[t._v("2byte")]),t._v(" "),v("td",[t._v("0 ~ 255")])]),t._v(" "),v("tr",[v("td",[t._v("Data")]),t._v(" "),v("td",[t._v("Nbyte")]),t._v(" "),v("td",[t._v("数据块")])]),t._v(" "),v("tr",[v("td",[t._v("校验")]),t._v(" "),v("td",[t._v("2byte")]),t._v(" "),v("td",[t._v("CRC16/modbus      "),v("br"),t._v("例如 数据为：01 02 03 04  校验= 2b a1    "),v("br"),t._v("规约内数据采用高字节在前  低字节在后(Big-Endian)  校验  计算Command -DATA(包含Command和Data)")])]),t._v(" "),v("tr",[v("td",[t._v("end-msgid")]),t._v(" "),v("td",[t._v("1byte")]),t._v(" "),v("td",[t._v("数据结束标识，同msgid")])])])]),t._v(" "),v("h2",{attrs:{id:"_2-下位机上传"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-下位机上传"}},[t._v("#")]),t._v(" 2. 下位机上传")]),t._v(" "),v("h3",{attrs:{id:"_2-1-开机、关机信息-command-0x10"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-开机、关机信息-command-0x10"}},[t._v("#")]),t._v(" 2.1. 开机、关机信息（Command：0x10）")]),t._v(" "),v("p",[t._v("1、 Data-Length ： (7 + n) byte")]),t._v(" "),v("p",[t._v("2、 Data ：")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[v("strong",[t._v("字段")])]),t._v(" "),v("th",[v("strong",[t._v("长度")])]),t._v(" "),v("th",[v("strong",[t._v("备注")])])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("开关机")]),t._v(" "),v("td",[t._v("1byte")]),t._v(" "),v("td",[t._v("1 ： 开机  "),v("br"),t._v("0 ： 关机")])]),t._v(" "),v("tr",[v("td",[t._v("模式")]),t._v(" "),v("td",[t._v("1byte")]),t._v(" "),v("td",[t._v("0 ： GSM   "),v("br"),t._v("1 ： CDMA     "),v("br"),t._v(" 2 ： Nbiot  "),v("br"),t._v("3 ： GPRS  "),v("br"),t._v("4 ： 其他")])]),t._v(" "),v("tr",[v("td",[t._v("定位信息")]),t._v(" "),v("td",[t._v("1+n byte")]),t._v(" "),v("td",[t._v("定位信息数据长度 1byte  "),v("br"),t._v("定位信息 n byte   "),v("br"),t._v(" "),v("strong",[t._v("模式0")]),t._v(" (GSM)  4byte ; byte[0]-byte[1]  小区号 ; byte[2]-byte[3]  基站号")])]),t._v(" "),v("tr",[v("td",[t._v("硬件程序版本号")]),t._v(" "),v("td",[t._v("1byte")]),t._v(" "),v("td",[t._v("0x01 ~ 0xff")])]),t._v(" "),v("tr",[v("td",[t._v("控制器总数")]),t._v(" "),v("td",[t._v("1byte")]),t._v(" "),v("td",[t._v("0-255")])]),t._v(" "),v("tr",[v("td",[t._v("回路总数")]),t._v(" "),v("td",[t._v("1byte")]),t._v(" "),v("td",[t._v("0-255")])]),t._v(" "),v("tr",[v("td",[t._v("探测器总数")]),t._v(" "),v("td",[t._v("1byte")]),t._v(" "),v("td",[t._v("0-255")])])])]),t._v(" "),v("h3",{attrs:{id:"_2-2-上传报警数据-command-0x11"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-上传报警数据-command-0x11"}},[t._v("#")]),t._v(" 2.2. 上传报警数据（Command：0x11）")]),t._v(" "),v("p",[t._v("1、 Data-Length ： ( 6 + n * 7 + m * 2) byte")]),t._v(" "),v("p",[t._v("2、Data ：")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[v("strong",[t._v("字段")])]),t._v(" "),v("th",[v("strong",[t._v("长度")])]),t._v(" "),v("th",{attrs:{colspan:"4"}},[v("strong",[t._v("备注")])])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("电池电压")]),t._v(" "),v("td",[t._v("2byte")]),t._v(" "),v("td",{attrs:{colspan:"4"}},[t._v("除以100 例如 2678 ==>26.78V")])]),t._v(" "),v("tr",[v("td",{attrs:{rowspan:"3"}},[t._v("总状态")]),t._v(" "),v("td",{attrs:{rowspan:"3"}},[t._v("1byte")]),t._v(" "),v("td",[t._v("bit7-bit6 \n\t\t\t    "),v("br"),t._v("控制器状态\n            ")]),t._v(" "),v("td",{attrs:{colspan:"3"}},[t._v("00 ： 离线 \n\t\t\t    "),v("br"),t._v("01 ： 正常 \n\t\t\t    "),v("br"),t._v("10 ： 故障 \n\t\t\t    "),v("br"),t._v("11 ： 未知\n            ")])]),t._v(" "),v("tr",[v("td",[t._v("bit5-bit2 \n\t\t\t    "),v("br"),t._v("总报警+总故障 \n\t\t\t    "),v("br"),t._v("(优先级： 故障>报警>正常>未知)\n            ")]),t._v(" "),v("td",{attrs:{colspan:"3"}},[t._v("0000 ： 未知 \n\t\t\t    "),v("br"),t._v("0001 ： 正常 \n\t\t\t    "),v("br"),t._v("0010 ： 报警 \n\t\t\t    "),v("br"),t._v("0011 ： 故障\n            ")])]),t._v(" "),v("tr",[v("td",[t._v("bit1 ~ bit0")]),t._v(" "),v("td",{attrs:{colspan:"3"}},[t._v("预留 00")])]),t._v(" "),v("tr",[v("td",{attrs:{rowspan:"4"}},[t._v("电池状态")]),t._v(" "),v("td",{attrs:{rowspan:"4"}},[t._v("1byte")]),t._v(" "),v("td",[t._v("bit7 ~ bit6")]),t._v(" "),v("td",{attrs:{colspan:"3"}},[t._v("00 主电正常， 供电使用中 \n\t\t\t    "),v("br"),t._v("01 主电正常， 未供电，停用 \n\t\t\t    "),v("br"),t._v("11 主电故障\n            ")])]),t._v(" "),v("tr",[v("td",[t._v("bit5 ~ bit4")]),t._v(" "),v("td",{attrs:{colspan:"3"}},[t._v("00 备电正常， 供电使用中 \n\t\t\t    "),v("br"),t._v("01 备电正常， 未供电，停用 \n\t\t\t    "),v("br"),t._v("10 无备电 \n\t\t\t    "),v("br"),t._v("11备电故障\n            ")])]),t._v(" "),v("tr",[v("td",[t._v("bit3 ~ bit2")]),t._v(" "),v("td",{attrs:{colspan:"3"}},[t._v("00 充电正常 \n\t\t\t    "),v("br"),t._v("01 充电故障 \n\t\t\t    "),v("br"),t._v("11 未知\n            ")])]),t._v(" "),v("tr",[v("td",[t._v("bit1 ~ bit0")]),t._v(" "),v("td",{attrs:{colspan:"3"}},[t._v("预留 00")])]),t._v(" "),v("tr",[v("td",[t._v("探测器数量(n)")]),t._v(" "),v("td",[t._v("1byte")]),t._v(" "),v("td",{attrs:{colspan:"4"}},[t._v("范围 : 0-255")])]),t._v(" "),v("tr",[v("td",{attrs:{rowspan:"9"}},[t._v("探测器信息")]),t._v(" "),v("td",{attrs:{rowspan:"9"}},[t._v("n*7byte")]),t._v(" "),v("td",{attrs:{rowspan:"9"}},[t._v("第n个探测器信息")]),t._v(" "),v("td",{attrs:{rowspan:"3"}},[t._v("byte[0]")]),t._v(" "),v("td",[t._v("Bit7-bit6 \n\t\t\t    "),v("br"),t._v("比例系数\n            ")]),t._v(" "),v("td",[t._v("00 *1 \n\t\t\t    "),v("br"),t._v("01 *0.1 \n\t\t\t    "),v("br"),t._v("10 *0.01 \n\t\t\t    "),v("br"),t._v("11 *0.001\n            ")])]),t._v(" "),v("tr",[v("td",[t._v("Bit5-bit3 \n\t\t\t    "),v("br"),t._v("计量单位\n            ")]),t._v(" "),v("td",[t._v("000 %LEL \n\t\t\t    "),v("br"),t._v("001 PPM \n\t\t\t    "),v("br"),t._v("010 %VOL \n\t\t\t    "),v("br"),t._v("111 其他\n            ")])]),t._v(" "),v("tr",[v("td",[t._v("Bit2-bit0")]),t._v(" "),v("td",[t._v("预留， 默认000")])]),t._v(" "),v("tr",[v("td",[t._v("byte[1] \n\t\t\t    "),v("br"),t._v("探测器状态\n            ")]),t._v(" "),v("td",{attrs:{colspan:"2"}},[t._v(" 0xff : 探测器为非法\n\t\t\t    "),v("br"),t._v("0xfe : 未知\n\t\t\t    "),v("br"),t._v("0xfd : 屏蔽\n\t\t\t    "),v("br"),t._v("0x00 : 离线\n\t\t\t    "),v("br"),t._v("0x01 : 正常\n\t\t\t    "),v("br"),t._v("0x02 : 报警(低报) \n\t\t\t    "),v("br"),t._v("0x03 : 报警(高报)\n\t\t\t    "),v("br"),t._v("0x04 : 传感器离线\n\t\t\t    "),v("br"),t._v("0x05 : IIC离线\n\t\t\t    "),v("br"),t._v("0x06 : 探测器预热\n            ")])]),t._v(" "),v("tr",[v("td",[t._v("byte[2] "),v("br"),t._v("回路号")]),t._v(" "),v("td",{attrs:{colspan:"2"}},[t._v("范围 : 1-255")])]),t._v(" "),v("tr",[v("td",[t._v("byte[3] "),v("br"),t._v("探测器地址位")]),t._v(" "),v("td",{attrs:{colspan:"2"}},[t._v("范围 : 1-255")])]),t._v(" "),v("tr",[v("td",[t._v("byte[4] "),v("br"),t._v("气体类型")]),t._v(" "),v("td",{attrs:{colspan:"2"}},[t._v("0x01 : 甲烷\n\t\t\t    "),v("br"),t._v("0x02 : 乙烷\n\t\t\t    "),v("br"),t._v("0x03 : 丙烷\n\t\t\t    "),v("br"),t._v("0x04 : 丁烷\n\t\t\t    "),v("br"),t._v("0x05 : 一氧化碳\n\t\t\t    "),v("br"),t._v("0x06 : 其他 (联系平台提供)\n            ")])]),t._v(" "),v("tr",[v("td",{attrs:{rowspan:"2"}},[t._v("byte[5]~byte[6] "),v("br"),t._v("探测器浓度")]),t._v(" "),v("td",[t._v("bit15")]),t._v(" "),v("td",[t._v("1寿命到期 "),v("br"),t._v("0正常")])]),t._v(" "),v("tr",[v("td",[t._v("bit14-bit0")]),t._v(" "),v("td",[t._v("浓度")])]),t._v(" "),v("tr",[v("td",[t._v("联动数量(m)")]),t._v(" "),v("td",[t._v("1byte")]),t._v(" "),v("td",{attrs:{colspan:"4"}},[t._v("0-255")])]),t._v(" "),v("tr",[v("td",{attrs:{rowspan:"4"}},[t._v("联动信息")]),t._v(" "),v("td",{attrs:{rowspan:"4"}},[t._v("m*2byte")]),t._v(" "),v("td",{attrs:{rowspan:"4"}},[t._v("第m个联动设备信息")]),t._v(" "),v("td",[t._v("byte[0] 联动地址位")]),t._v(" "),v("td",{attrs:{colspan:"2"}},[t._v("范围:1-255")])]),t._v(" "),v("tr",[v("td",{attrs:{rowspan:"3"}},[t._v("byte[1] 联动信息")]),t._v(" "),v("td",[t._v("bit7-bit5 "),v("br"),t._v("联动类型")]),t._v(" "),v("td",[t._v("000: 电磁阀 \n\t\t\t    "),v("br"),t._v("001: 风扇 \n\t\t\t    "),v("br"),t._v("010 ~ 111: 预留\n            ")])]),t._v(" "),v("tr",[v("td",[t._v("bit4-bit2 "),v("br"),t._v("联动状态")]),t._v(" "),v("td",[t._v("000: 关闭 \n\t\t\t    "),v("br"),t._v("111: 开启 \n\t\t\t    "),v("br"),t._v("001: 未接设备或离线 \n\t\t\t    "),v("br"),t._v("010~110: 预留\n            ")])]),t._v(" "),v("tr",[v("td",[t._v("bit1-bit0")]),t._v(" "),v("td",[t._v("预留 00")])])])]),t._v(" "),v("h3",{attrs:{id:"_2-3-平台下发命令-设备上报运行参数-command-0x12"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-平台下发命令-设备上报运行参数-command-0x12"}},[t._v("#")]),t._v(" 2.3. 平台下发命令，设备上报运行参数（Command：0x12）")]),t._v(" "),v("p",[t._v("1、 Data-Length ： (13 + n *4) byte")]),t._v(" "),v("p",[t._v("2、 Data ：")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[v("strong",[t._v("字段")])]),t._v(" "),v("th",[v("strong",[t._v("长度")])]),t._v(" "),v("th",[v("strong",[t._v("备注")])])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("taskid")]),t._v(" "),v("td",[t._v("4byte")]),t._v(" "),v("td",[t._v("下行命令流水号（由平台生成，用于设备交互，下同）")])]),t._v(" "),v("tr",[v("td",[t._v("正常报数据频率")]),t._v(" "),v("td",[t._v("4byte")]),t._v(" "),v("td",[t._v("单位  ： 秒 0 ~ 4294967295")])]),t._v(" "),v("tr",[v("td",[t._v("报警后报数据频率")]),t._v(" "),v("td",[t._v("4byte")]),t._v(" "),v("td",[t._v("单位  ： 秒 0 ~ 4294967295")])]),t._v(" "),v("tr",[v("td",[t._v("探测器数量n")]),t._v(" "),v("td",[t._v("1 byte")]),t._v(" "),v("td",[t._v("0 ~ 255")])]),t._v(" "),v("tr",[v("td",[t._v("探测器1回路号")]),t._v(" "),v("td",[t._v("1 byte")]),t._v(" "),v("td",[t._v("0 ~ 255")])]),t._v(" "),v("tr",[v("td",[t._v("探测器1地址位")]),t._v(" "),v("td",[t._v("1 byte")]),t._v(" "),v("td",[t._v("0 ~ 255")])]),t._v(" "),v("tr",[v("td",[t._v("探测器1报警点")]),t._v(" "),v("td",[t._v("1 byte")]),t._v(" "),v("td",[t._v("0 代表无效")])]),t._v(" "),v("tr",[v("td",[t._v("探测器1突变阈值")]),t._v(" "),v("td",[t._v("1 byte")]),t._v(" "),v("td",[t._v("0 代表无效")])]),t._v(" "),v("tr",[v("td",[v("strong",[t._v("......")])]),t._v(" "),v("td"),t._v(" "),v("td")]),t._v(" "),v("tr",[v("td",[t._v("探测器n回路号")]),t._v(" "),v("td",[t._v("1 byte")]),t._v(" "),v("td",[t._v("0 ~ 255")])]),t._v(" "),v("tr",[v("td",[t._v("探测器n地址位")]),t._v(" "),v("td",[t._v("1 byte")]),t._v(" "),v("td",[t._v("0 ~ 255")])]),t._v(" "),v("tr",[v("td",[t._v("探测器n报警点")]),t._v(" "),v("td",[t._v("1 byte")]),t._v(" "),v("td",[t._v("0 代表无效")])]),t._v(" "),v("tr",[v("td",[t._v("探测器n突变阈值")]),t._v(" "),v("td",[t._v("1 byte")]),t._v(" "),v("td",[t._v("0 代表无效")])])])]),t._v(" "),v("h3",{attrs:{id:"_2-4-平台下发复位命令-设备响应结果-command-0x13"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-平台下发复位命令-设备响应结果-command-0x13"}},[t._v("#")]),t._v(" 2.4. 平台下发复位命令，设备响应结果 （Command：0x13）")]),t._v(" "),v("p",[t._v("1、 Data-Length ： 5byte")]),t._v(" "),v("p",[t._v("2、 Data ：")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[v("strong",[t._v("字段")])]),t._v(" "),v("th",[v("strong",[t._v("长度")])]),t._v(" "),v("th",[v("strong",[t._v("备注")])])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("taskid")]),t._v(" "),v("td",[t._v("4byte")]),t._v(" "),v("td",[t._v("下行命令流水号")])]),t._v(" "),v("tr",[v("td",[t._v("结果")]),t._v(" "),v("td",[t._v("1byte")]),t._v(" "),v("td",[t._v("0： 失败  "),v("br"),t._v("1： 成功")])])])]),t._v(" "),v("h3",{attrs:{id:"_2-5-平台下发消音命令-设备响应结果-command-0x14"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-平台下发消音命令-设备响应结果-command-0x14"}},[t._v("#")]),t._v(" 2.5.  平台下发消音命令，设备响应结果（Command：0x14）")]),t._v(" "),v("p",[t._v("1、 Data-Length ： 5byte")]),t._v(" "),v("p",[t._v("2、 Data ：")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[v("strong",[t._v("字段")])]),t._v(" "),v("th",[v("strong",[t._v("长度")])]),t._v(" "),v("th",[v("strong",[t._v("备注")])])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("taskid")]),t._v(" "),v("td",[t._v("4byte")]),t._v(" "),v("td",[t._v("下行命令流水号")])]),t._v(" "),v("tr",[v("td",[t._v("结果")]),t._v(" "),v("td",[t._v("1byte")]),t._v(" "),v("td",[t._v("0： 失败  "),v("br"),t._v("1： 成功")])])])]),t._v(" "),v("h3",{attrs:{id:"_2-6-平台下发获取联动信息-联动控制-设备响应结果-command-0x15"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-平台下发获取联动信息-联动控制-设备响应结果-command-0x15"}},[t._v("#")]),t._v(" 2.6. 平台下发获取联动信息/联动控制，设备响应结果（Command：0x15）")]),t._v(" "),v("p",[t._v("1、 Data-Length ： 5 + 2*n byte")]),t._v(" "),v("p",[t._v("2、 Data ：")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[v("strong",[t._v("字段")])]),t._v(" "),v("th",[v("strong",[t._v("长度")])]),t._v(" "),v("th",{attrs:{colspan:"4"}},[v("strong",[t._v("备注")])])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("taskid")]),t._v(" "),v("td",[t._v("4byte")]),t._v(" "),v("td",{attrs:{colspan:"4"}},[t._v("下行命令流水号")])]),t._v(" "),v("tr",[v("td",[t._v("联动数量(n)")]),t._v(" "),v("td",[t._v("1byte")]),t._v(" "),v("td",{attrs:{colspan:"4"}},[t._v("范围: 0-255")])]),t._v(" "),v("tr",[v("td",{attrs:{rowspan:"4"}},[t._v("联动信息")]),t._v(" "),v("td",{attrs:{rowspan:"4"}},[t._v("n*2byte")]),t._v(" "),v("td",{attrs:{rowspan:"4"}},[t._v("第n个联动信息")]),t._v(" "),v("td",[t._v("byte[0] 联动地址位")]),t._v(" "),v("td",{attrs:{colspan:"2"}},[t._v("范围:1-255")])]),t._v(" "),v("tr",[v("td",{attrs:{rowspan:"3"}},[t._v("byte[1] 联动信息")]),t._v(" "),v("td",[t._v("bit7-bit5 联动类型")]),t._v(" "),v("td",[t._v("000: 电磁阀 \n\t\t\t    "),v("br"),t._v("001: 风扇 \n\t\t\t    "),v("br"),t._v("010 ~ 111: 预留\n            ")])]),t._v(" "),v("tr",[v("td",[t._v("Bit4-bit2 联动状态")]),t._v(" "),v("td",[t._v("000: 关闭 \n\t\t\t    "),v("br"),t._v("111: 开启 \n\t\t\t    "),v("br"),t._v("001: 未接设备或离线 \n\t\t\t    "),v("br"),t._v("010~110: 预留\n            ")])]),t._v(" "),v("tr",[v("td",[t._v("bit1-bit0")]),t._v(" "),v("td",[t._v("预留")])])])]),t._v(" "),v("h3",{attrs:{id:"_2-7-设备要求服务器下发时间同步-预留-command-0x16"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-设备要求服务器下发时间同步-预留-command-0x16"}},[t._v("#")]),t._v(" 2.7. "),v("s",[t._v("设备要求服务器下发时间同步(预留)（Command：0x16）")])]),t._v(" "),v("p",[t._v("3、 Data-Length ： 0 byte")]),t._v(" "),v("p",[t._v("4、 Data ：")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[v("strong",[t._v("字段")])]),t._v(" "),v("th",[v("strong",[t._v("长度")])]),t._v(" "),v("th",[v("strong",[t._v("备注")])])])]),t._v(" "),v("tbody",[v("tr",[v("td"),t._v(" "),v("td"),t._v(" "),v("td")])])]),t._v(" "),v("h3",{attrs:{id:"_2-8-平台下发命令-设备执行异常后响应结果-command-0xff"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-8-平台下发命令-设备执行异常后响应结果-command-0xff"}},[t._v("#")]),t._v(" 2.8. 平台下发命令，设备执行异常后响应结果 （Command：0xff）")]),t._v(" "),v("p",[t._v("1、 Data-Length ： 5 byte")]),t._v(" "),v("p",[t._v("2、 Data ：")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[v("strong",[t._v("字段")])]),t._v(" "),v("th",[v("strong",[t._v("长度")])]),t._v(" "),v("th",[v("strong",[t._v("备注")])])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("taskid")]),t._v(" "),v("td",[t._v("4byte")]),t._v(" "),v("td",[t._v("下行命令流水号")])]),t._v(" "),v("tr",[v("td",[t._v("错误原因")]),t._v(" "),v("td",[t._v("1byte")]),t._v(" "),v("td",[t._v("0x1 参数异常、错误  "),v("br"),t._v("0x2 功能码  command未匹配  "),v("br"),t._v("0x3 设备执行错误  "),v("br"),t._v("0x4 未知")])])])]),t._v(" "),v("h2",{attrs:{id:"_3-上位机下发"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-上位机下发"}},[t._v("#")]),t._v(" 3. 上位机下发")]),t._v(" "),v("h3",{attrs:{id:"_3-1-获取设备运行参数-command-0x91"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-获取设备运行参数-command-0x91"}},[t._v("#")]),t._v(" 3.1. 获取设备运行参数 （Command：0x91）")]),t._v(" "),v("p",[t._v("1、 Data-Length ： 0 byte")]),t._v(" "),v("p",[t._v("2、 Data ：")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[v("strong",[t._v("字段")])]),t._v(" "),v("th",[v("strong",[t._v("长度")])]),t._v(" "),v("th",[v("strong",[t._v("备注")])])])]),t._v(" "),v("tbody",[v("tr",[v("td"),t._v(" "),v("td"),t._v(" "),v("td")])])]),t._v(" "),v("h3",{attrs:{id:"_3-2-设置设备运行参数-command-0x92"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-设置设备运行参数-command-0x92"}},[t._v("#")]),t._v(" 3.2. 设置设备运行参数 （Command：0x92）")]),t._v(" "),v("p",[t._v("1、 Data-Length ： (9 + n *4) byte")]),t._v(" "),v("p",[t._v("2、 Data ：")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[v("strong",[t._v("字段")])]),t._v(" "),v("th",[v("strong",[t._v("长度")])]),t._v(" "),v("th",[v("strong",[t._v("备注")])])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("正常报数据频率")]),t._v(" "),v("td",[t._v("4byte")]),t._v(" "),v("td",[t._v("单位  ： 秒 0 ~ 4294967295")])]),t._v(" "),v("tr",[v("td",[t._v("报警后报数据频率")]),t._v(" "),v("td",[t._v("4byte")]),t._v(" "),v("td",[t._v("单位  ： 秒 0 ~ 4294967295")])]),t._v(" "),v("tr",[v("td",[t._v("探测器数量n")]),t._v(" "),v("td",[t._v("1 byte")]),t._v(" "),v("td",[t._v("0 ~ 255")])]),t._v(" "),v("tr",[v("td",[t._v("探测器1回路号")]),t._v(" "),v("td",[t._v("1 byte")]),t._v(" "),v("td",[t._v("0 ~ 255")])]),t._v(" "),v("tr",[v("td",[t._v("探测器1地址位")]),t._v(" "),v("td",[t._v("1 byte")]),t._v(" "),v("td",[t._v("0 ~ 255")])]),t._v(" "),v("tr",[v("td",[t._v("探测器1报警点")]),t._v(" "),v("td",[t._v("1 byte")]),t._v(" "),v("td",[t._v("0 无效")])]),t._v(" "),v("tr",[v("td",[t._v("探测器1突变阈值")]),t._v(" "),v("td",[t._v("1 byte")]),t._v(" "),v("td",[t._v("0 无效")])]),t._v(" "),v("tr",[v("td",[v("strong",[t._v("......")])]),t._v(" "),v("td"),t._v(" "),v("td")]),t._v(" "),v("tr",[v("td",[t._v("探测器n回路号")]),t._v(" "),v("td",[t._v("1 byte")]),t._v(" "),v("td",[t._v("0  ~ 255")])]),t._v(" "),v("tr",[v("td",[t._v("探测器n地址位")]),t._v(" "),v("td",[t._v("1 byte")]),t._v(" "),v("td",[t._v("0  ~ 255")])]),t._v(" "),v("tr",[v("td",[t._v("探测器n报警点")]),t._v(" "),v("td",[t._v("1 byte")]),t._v(" "),v("td",[t._v("0  代表无效")])]),t._v(" "),v("tr",[v("td",[t._v("探测器n突变阈值")]),t._v(" "),v("td",[t._v("1 byte")]),t._v(" "),v("td",[t._v("0  代表无效")])])])]),t._v(" "),v("h3",{attrs:{id:"_3-3-复位-command-0x93"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-复位-command-0x93"}},[t._v("#")]),t._v(" 3.3. 复位（Command：0x93）")]),t._v(" "),v("p",[t._v("1、 Data-Length ： 0 byte")]),t._v(" "),v("p",[t._v("2、 Data ：")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[v("strong",[t._v("字段")])]),t._v(" "),v("th",[v("strong",[t._v("长度")])]),t._v(" "),v("th",[v("strong",[t._v("备注")])])])]),t._v(" "),v("tbody",[v("tr",[v("td"),t._v(" "),v("td"),t._v(" "),v("td")])])]),t._v(" "),v("p",[t._v("​")]),t._v(" "),v("h3",{attrs:{id:"_3-4-消音-command-0x94"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-消音-command-0x94"}},[t._v("#")]),t._v(" 3.4.  消音（Command：0x94）")]),t._v(" "),v("p",[t._v("1、 Data-Length ： 0 byte")]),t._v(" "),v("p",[t._v("2、 Data ：")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[v("strong",[t._v("字段")])]),t._v(" "),v("th",[v("strong",[t._v("长度")])]),t._v(" "),v("th",[v("strong",[t._v("备注")])])])]),t._v(" "),v("tbody",[v("tr",[v("td"),t._v(" "),v("td"),t._v(" "),v("td")])])]),t._v(" "),v("h3",{attrs:{id:"_3-5-获取设备联动信息-command-0x95"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-获取设备联动信息-command-0x95"}},[t._v("#")]),t._v(" 3.5. 获取设备联动信息（Command：0x95）")]),t._v(" "),v("p",[t._v("1、 Data-Length ： 1 + n byte")]),t._v(" "),v("p",[t._v("2、 Data ：")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[v("strong",[t._v("字段")])]),t._v(" "),v("th",[v("strong",[t._v("长度")])]),t._v(" "),v("th",[v("strong",[t._v("备注")])])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("联动数量(n)")]),t._v(" "),v("td",[t._v("1byte")]),t._v(" "),v("td",[t._v("0-255")])]),t._v(" "),v("tr",[v("td",[t._v("联动信息")]),t._v(" "),v("td",[t._v("n byte "),v("br"),t._v(" n为需要获取的联动数量,每1个byte为联动设备的地址")]),t._v(" "),v("td",[t._v("范围:1-255  联动地址位")])])])]),t._v(" "),v("h3",{attrs:{id:"_3-6-设备联动控制-command-0x96"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-设备联动控制-command-0x96"}},[t._v("#")]),t._v(" 3.6. 设备联动控制（Command：0x96）")]),t._v(" "),v("p",[t._v("3、 Data-Length ： 1 + (2*n) byte")]),t._v(" "),v("p",[t._v("4、 Data ：")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[v("strong",[t._v("字段")])]),t._v(" "),v("th",[v("strong",[t._v("长度")])]),t._v(" "),v("th",{attrs:{colspan:"3"}},[v("strong",[t._v("备注")])])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("联动数量(n)")]),t._v(" "),v("td",[t._v("1byte")]),t._v(" "),v("td",{attrs:{colspan:"3"}},[t._v("0-255")])]),t._v(" "),v("tr",[v("td",{attrs:{rowspan:"3"}},[t._v("联动信息")]),t._v(" "),v("td",{attrs:{rowspan:"3"}},[t._v(" n*2byte")]),t._v(" "),v("td",{attrs:{rowspan:"3"}},[t._v("第n个联动信息")]),t._v(" "),v("td",[t._v("byte[0] 联动地址位")]),t._v(" "),v("td",[t._v("范围:1-255")])]),t._v(" "),v("tr",[v("td",{attrs:{rowspan:"2"}},[t._v("byte[1] 联动操作")]),t._v(" "),v("td",[t._v("bit 7 ~ bit 5\n\t\t\t    "),v("br"),t._v("111: 开启 \n\t\t\t    "),v("br"),t._v("000: 关闭\n\t\t\t")])]),t._v(" "),v("tr",[v("td",[t._v("bit 4 ~ bit 0\n\t\t\t    "),v("br"),t._v("预留\n\t\t\t")])])])]),t._v(" "),v("h3",{attrs:{id:"_3-7-同步时间-预留-command-0x97"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-7-同步时间-预留-command-0x97"}},[t._v("#")]),t._v(" 3.7. "),v("s",[t._v("同步时间(预留)（Command：0x97）")])]),t._v(" "),v("p",[t._v("3、 Data-Length ： 7 byte")]),t._v(" "),v("p",[t._v("4、 Data ：")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[v("strong",[t._v("字段")])]),t._v(" "),v("th",[v("strong",[t._v("长度")])]),t._v(" "),v("th",[v("strong",[t._v("备注")])])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("服务器时间   "),v("br"),t._v("yyyy-MM-dd HH:mm:ss")]),t._v(" "),v("td",[t._v("7byte")]),t._v(" "),v("td",[t._v("byte[0]~byte[1] : yyyy 年,如: 2020 -> 0x07e4  "),v("br"),t._v("byte[2] : MM  月,如: 01 -> 0x01  "),v("br"),t._v("byte[3] : dd  日,如: 01 -> 0x01  "),v("br"),t._v("byte[4] : HH  时(24h),如: 01 ->  0x01  "),v("br"),t._v("byte[5] : mm  分,如: 01 -> 0x01  "),v("br"),t._v("byte[6] : ss  秒,如: 01 -> 0x01")])])])])])}),[],!1,null,null,null);_.default=a.exports}}]);